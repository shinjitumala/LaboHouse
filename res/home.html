<!DOCTYPE html>
<html>
<title>LaboHouse</title>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

    <!-- CSS only -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <!-- JS, Popper.js, and jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>
    <!-- date time -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/css/tempusdominus-bootstrap-4.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- code -->
    ${API_JS}
    ${JS}
    ${CSS}
</head>

<body>
    <audio id="test_sound">
        <source src="https://notificationsounds.com/sound-effects/rvrb-21/download/mp3" type="audio/mp3"></audio>
    <div class="d-flex w-100 h-100 flex-column lh-bg-light">
        <!-- Page Header -->
        <div id="LH::header" class="shadow lh-bg-primary d-flex">
            <div class="fixed-fill invisible">dummy</div>
            <div class="text-center display-1 font-weight-bolder text-light fixed-fill">
                LaboHouse
            </div>
            <div class="text-right text-white text-right p-3 text-bottom fixed-fill" id="GERO"></div>
        </div>

        <!-- Toasts -->
        <div class="position-absolute d-flex flex-column p-4" style="top: 0; right: 0;" id="toast"></div>

        <!-- Loing Page -->
        <div id="P#register" class="d-flex flex-grow-1 text-center">
            <!-- Register Name -->
            <div class="d-flex flex-column align-self-center w-100">
                <div class="jumbotron align-self-center">
                    <div class="text-center display-4 p-4">Welcome!</div>
                    <div class="py-2">
                        <input class="form-control" type="text" id="id" placeholder="ID (Unique)">
                    </div>
                    <div class="py-2">
                        <input class="form-control" type="text" id="name" placeholder="Display Name">
                    </div>
                    <div class="py-2">
                        <button type="button" id="btn_join" onclick="btnRegisterUser()"
                            class="btn btn-success rounded-pill">Join
                            now!</button>
                    </div>
                </div>
            </div>
        </div>


        <!-- index page -->
        <div id="P#main" class="flex-grow-1 d-flex justify-content-between">
            <!-- ひま度変更 -->
            <div class="border-right align-self-start h-100" style="flex-basis: 25%;">
                <h3 class="border-bottom display-4 p-4" style="flex-wrap: wrap;" id="block::name"></h3>

                <!-- Change 'HIMADO' -->
                <div class="border-bottom d-flex p-3">
                    <div class="align-middle flex-fill text-center px-1 text-vcenter font-weight-bold">Himado: </div>
                    <select id="himado" onchange="btnSetHimado()" class="form-control flex-fill custom-select">
                        <option value="0">free</option>
                        <option value="1">easy</option>
                        <option value="2">busy</option>
                        <option value="3">offline</option>
                    </select>
                </div>

                <!-- watch list -->
                <button type="button" class="btn lh-bg-util w-100 my-1" data-toggle="collapse" data-target="#watchlist">
                    Watchlist <i class="fa fa-caret-square-o-down" aria-hidden="true"></i>
                </button>
                <div id="watchlist" class="collapse">
                    <div class="input-group p-3">
                        <select class="form-control custom-select" id="watchID">
                        </select>
                        <div class="input-group-append">
                            <button type="button" class="btn btn-success" onclick="btnAddWatchList()">Add</button>
                        </div>
                    </div>
                    <div id="watchlist_users"></div>
                </div>


                <button type="button" class="btn lh-bg-util w-100 my-1" data-toggle="collapse" data-target="#timerange">
                    Timerange <i class="fa fa-caret-square-o-down" aria-hidden="true"></i>
                </button>
                <div id="timerange" class="collapse">
                    <div class="input-group date px-3 pt-3" id="tp_timerange_start" data-target-input="nearest">
                        <input type="text" class="form-control datetimepicker-input" data-target="#tp_timerange_start"
                            placeholder="Start" />
                        <div class="input-group-append" data-target="#tp_timerange_start" data-toggle="datetimepicker">
                            <div class="input-group-text"><i class="fa fa-clock-o"></i></div>
                        </div>
                    </div>
                    <div class="input-group date px-3" id="tp_timerange_end" data-target-input="nearest">
                        <input type="text" class="form-control datetimepicker-input" data-target="#tp_timerange_end"
                            placeholder="End" />
                        <div class="input-group-append" data-target="#tp_timerange_end" data-toggle="datetimepicker">
                            <div class="input-group-text"><i class="fa fa-clock-o"></i></div>
                        </div>
                    </div>
                    <div class="d-flex px-3">
                        <div class="align-middle flex-fill text-center px-1 text-vcenter font-weight-bold">Himado:
                        </div>
                        <select id="timerange_himado" class="form-control flex-fill custom-select">
                            <option value="0">free</option>
                            <option value="1">easy</option>
                            <option value="2">busy</option>
                            <option value="3">offline</option>
                        </select>
                    </div>
                    <div class="d-flex px-3 pb-3">
                        <button type="button" class="btn btn-success flex-fill" onclick="btnAddTimerange()">Add</button>
                    </div>
                    <div id="timeranges"></div>
                </div>

                <button type="button" class="btn lh-bg-util w-100 my-1" data-toggle="collapse" data-target="#timer">
                    Timer <i class="fa fa-caret-square-o-down" aria-hidden="true"></i>
                </button>
                <div id="timer" class="collapse">
                    <div id="form_add_timer">
                        <div class="px-3 pt-3 d-flex flex-column">
                            <input type="number" placeholder="minutes" class="flex-fill" id="timer_min">
                        </div>
                        <div class="d-flex px-3">
                            <div class="align-middle flex-fill text-center px-1 text-vcenter font-weight-bold">Himado:
                            </div>
                            <select id="timer_himado" class="form-control flex-fill custom-select">
                                <option value="0">free</option>
                                <option value="1">easy</option>
                                <option value="2">busy</option>
                                <option value="3">offline</option>
                            </select>
                        </div>
                        <div class="d-flex px-3 pb-3">
                            <button type="button" class="btn btn-success flex-fill" onclick="btnAddTimer()">Add</button>
                        </div>
                    </div>
                    <div id="form_remove_timer" class="hidden">
                        <div class="d-flex p-3">
                            <div id="timer_text" class="text-center flex-fill"></div>
                            <button type="button" class="btn btn-danger flex-fill"
                                onclick="btnRemoveTimer()">Remove</button>
                        </div>
                    </div>
                </div>

                <button type="button" class="btn lh-bg-util w-100 my-1" data-toggle="collapse" data-target="#account">
                    Account <i class="fa fa-caret-square-o-down" aria-hidden="true"></i>
                </button>
                <div id="account" class="collapse">
                    <div class="input-group d-flex px-3 pt-3">
                        <input type="text" class="form-control flex-fill" placeholder="New name" id="rename">
                        <div class="input-group-append">
                            <button type="button" class="btn btn-info flex-fill" onclick="btnRename()">Rename</button>
                        </div>
                    </div>

                    <div class="input-group d-flex px-3 pb-3">
                        <input type="text" class="form-control flex-fill" placeholder="Sub-status" id="substatus">
                        <div class="input-group-append">
                            <button type="button" class="btn btn-info flex-fill" onclick="btnSubstatus()">Set</button>
                        </div>
                    </div>
                </div>

                <button type="button" class="btn lh-bg-util w-100 my-1" data-toggle="collapse" data-target="#settings">
                    Settings <i class="fa fa-caret-square-o-down" aria-hidden="true"></i>
                </button>
                <div id="settings" class="collapse">
                    <div class="py-3">
                        <div class="d-flex px-3 pb-1">
                            <div class="flex-fill text-left font-weight-bold">Theme: </div>
                            <div class="custom-control-inline custom-radio flex-fill">
                                <input type="radio" class="custom-control-input" id="main_theme" name="theme"
                                    value="main" onclick="btnTheme(this)">
                                <label class="custom-control-label" for="main_theme">LaboHouse</label>
                            </div>
                            <div class="custom-control-inline custom-radio flex-fill">
                                <input type="radio" class="custom-control-input" id="cb_theme" name="theme"
                                    value="color_blind" onclick="btnTheme(this)">
                                <label class="custom-control-label" for="cb_theme">Color Blind</label>
                            </div>
                        </div>
                        <div class="d-flex px-3 pb-1">
                            <div class="flex-fill text-left font-weight-bold">Notifications (Desktop): </div>
                            <div class="custom-control custom-switch flex-fill">
                                <input type="checkbox" class="custom-control-input" id="sw_notifications"
                                    onclick="btnToggleNotification(this);">
                                <label for="sw_notifications" class="custom-control-label"></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- chat and log -->
            <div class="align-self-center flex-fill d-flex flex-column justify-content-between h-100"
                style="flex-basis: 50%;">
                <div class="border-bottom d-flex p-2">
                    <div class="invisible fixed-fill">Suck my dick. M.K.</div>
                    <h3 class="text-center fixed-fill border-right p-2">Chat</h3>
                    <div class="p-2 fixed-fill">
                        <select class="custom-select" id="chat_type" onchange="chatChange()">
                            <option selected id="chat_type_All" value="All">All</option>
                            <option id="chat_type_Free" value="Free"><i class="fa fa-check-circle"></i> Free</option>
                            <option id="chat_type_Easy" value="Easy"> Easy</option>
                            <option id="chat_type_Busy" value="Busy"> Busy</option>
                        </select>
                    </div>
                </div>
                <div class="flex-fill d-flex flex-column justify-content-end w-100 lh-wrap"
                    style="overflow-y: auto; position: relative;" id="B#chat">
                    <div id="block::chat_main" style="position: absolute; z-index: 2;" class="h-100 w-100"></div>
                    <div class="lh-bg w-100 h-100 d-flex justify-content-between" id="people"></div>
                </div>
                <div>
                    <textarea id="chatbox" class="form-control" rows="0" placeholder="Say something nice..."></textarea>
                    <div class="d-flex justify-content-end">
                        <button type="button" onclick="btnSendChat()" class="lh-bg-util m-2">Chat</button>
                        <button type="button" onclick="btnSendChatFree()" class="lh-bg-free m-2">Chat: @Free</button>
                        <button type="button" onclick="btnSendChatEasy()" class="lh-bg-easy m-2">Chat: @Easy</button>
                        <button type="button" onclick="btnSendChatBusy()" class="lh-bg-busy m-2">Chat: @Busy</button>
                    </div>
                </div>
            </div>

            <!-- members -->
            <div class="border-left align-self-end h-100" style="flex-basis: 25%;">
                <h3 class="border-bottom p-2 text-center">Members</h3>
                <div class="d-flex p-2">
                    <input type="text" id="member_search" onchange="searchUser() "
                        placeholder="Press enter to search..." class="flex-fill">
                </div>
                <div id="list::members" class="text-left"></div>
            </div>



        </div>

    </div>
</body>

</html>